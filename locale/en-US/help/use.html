<?xml version="1.0" encoding="iso-8859-1" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<!-- ***** BEGIN LICENSE BLOCK *****
   - Version: MPL 1.1/GPL 2.0/LGPL 2.1
   -
   - The contents of this file are subject to the Mozilla Public License Version
   - 1.1 (the "License"); you may not use this file except in compliance with
   - the License. You may obtain a copy of the License at
   - http://www.mozilla.org/MPL/
   -
   - Software distributed under the License is distributed on an "AS IS" basis,
   - WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
   - for the specific language governing rights and limitations under the
   - License.
   -
   - The Original Code is Preferences Toolbar 2.
   -
   - The Initial Developer of the Original Code is
   - Aaron Andersen.
   - Portions created by the Initial Developer are Copyright (C) 2002
   - the Initial Developer. All Rights Reserved.
   -
   - Contributor(s): Aaron Andersen <aaron@xulplanet.com>
   -
   - Alternatively, the contents of this file may be used under the terms of
   - either the GNU General Public License Version 2 or later (the "GPL"), or
   - the GNU Lesser General Public License Version 2.1 or later (the "LGPL"),
   - in which case the provisions of the GPL or the LGPL are applicable instead
   - of those above. If you wish to allow use of your version of this file only
   - under the terms of either the GPL or the LGPL, and not to allow others to
   - use your version of this file under the terms of the MPL, indicate your
   - decision by deleting the provisions above and replace them with the notice
   - and other provisions required by the LGPL or the GPL. If you do not delete
   - the provisions above, a recipient may use your version of this file under
   - the terms of any one of the MPL, the GPL or the LGPL.
   -
   - ***** END LICENSE BLOCK ***** -->

<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <link rel="stylesheet" href="help.css" type="text/css"/>
    <title>Using the Preferences Toolbar - PrefBar Help</title>
  </head>
  <body>
    <div>
      <img src="prefbarhelp.png" alt="PrefBar Help"/>
    </div>

    <div id="buttons">
      <a href="index.html">Introduction</a>
      <span>Using the Preferences Toolbar</span>
      <a href="newstuff.html">What's New?</a>
      <a href="buttons.html">Button List</a>
      <a href="faq.html">PrefBar FAQ</a>
      <a href="credits.html">Credits</a>
      <a href="feedback.html">Help/Feedback</a>
    </div>

    <div id="content">
      <h1>Using the Preferences Toolbar</h1>
      <p>
        This is the PrefBar User's Guide.  Everything you need to know about using the PrefBar is right here in this file.  Well, maybe not <i>everything</i>, but pretty darn close.
      </p>
      <p>
        <a href="#installing">Installing the PrefBar</a><br/>
        <a href="#showing">Showing the PrefBar</a><br/>
        <a href="#moving">Moving PrefBar buttons to other toolbars</a><br/>
        <a href="#menu">Showing PrefBar contents as menu button</a><br/>
        <a href="#customizing">Customizing the PrefBar</a><br/>
        <a style="margin-left: 2em;" href="#noeditbuttons">Why you shouldn't edit most of the built in buttons</a><br/>
        <a style="margin-left: 2em;" href="#editbuttons">Built in buttons you may edit</a><br/>
        <a href="#importexport">Importing/Exporting Items</a><br/>
        <a href="#knownbugs">Known Bugs</a>
      </p>

      <hr/>

      <h2 id="installing">Installing the PrefBar</h2>
      <p>
        The Preferences Toolbar was designed to work without errors on SeaMonkey >= 2.0 and Firefox >= 3.5. Use on future SeaMonkey or Firefox releases should also work, unless the developers of said browsers change something major.
      </p>
      <p>
        To install the PrefBar, click on the "Install Now" link on the <a href="http://prefbar.tuxfamily.org/installation.html">prefbar installation page</a>.  You have to have the "JavaScript" and "Software Installation" preferences turned on in order for this to work.
      </p>
      <p>
        After installation you will need to restart mozilla before you can use the PrefBar.
      </p>

      <h2 id="showing">Showing the PrefBar</h2>
      <p>
        To show the Preferences Toolbar, either enable it via the "View->Show/Hide" menu (or the "View->Toolbars" menu in Firefox), or by pressing the F8 key.  If the second method doesn't work, try the first.
      </p>

      <h2 id="moving">Moving PrefBar buttons to other toolbars</h2>
      <p>
        PrefBar starts up as a new toolbar, which may be toggled by any hotkey, you define for it, but this doesn't mean, that you have to keep the buttons on their own toolbar. Starting with PrefBar 5.0, PrefBar is a so called "customizable toolbar". This means, that you may either place foreign buttons to the PrefBar toolbar (and toggle them together with the other PrefBar items using your defined hotkey!) or place the PrefBar button group to any toolbar, you want. If you moved the PrefBar stuff from their own toolbar, you may just hide it to save space. To do this, right click on any Toolbar, despite PrefBar itself, and choose "Customize..." there. This way, you enter "toolbar customize mode", where you may drag&drop items around.
      </p>

      <h2 id="menu">Showing PrefBar contents as menu button</h2>
      <p>
        Starting with PrefBar 5.1, you may also place PrefBar's buttons below one single menu button. You find this button, named "PrefBar menu" in the toolbar customize dialog of your browser (see: <a href="#moving">Moving PrefBar buttons to other toolbars</a>). After placing this button to anywhere, you like, you may just hide the PrefBar toolbar completely.
      </p>

      <h2 id="customizing">Customizing the PrefBar</h2>
      <p>
        To customize the PrefBar, click the Customize button on its far right, or go into the main preferences dialog and select "Preferences Toolbar" from the Advanced catagory.
      </p>
      <p>
        The UI for customizing the toolbar is fairly straight forward.  The buttons, currently on the toolbar, are shown in the right tree, and the available buttons, not on the toolbar, in the left tree.  To add an existing button to the toolbar, you drag it from the left list to the right list. To remove an item, do it the other way round. You'll also use drag&amp;drop to sort the items in both lists. All additional functions are available via context menu.
      </p>
      <p>
        When editing existing buttons or creating new ones, you may encounter one or more of the following attributes:
      </p>
      <dl>
        <dt>Id</dt>
        <dd>
          Everything has an Id. You need to be sure, that the Id is unique. Use an Id, that tells, what your button does, in one little word. If your Id is not equal and you export the button, to give it to someone, then the person, who gets your button-file, may get problems with existing buttons. This is particularly important, if you like to share your button on the internet.
        </dd>

        <dt>Label</dt>
        <dd>
          This is the label that will appear on the button and in the customization dialog.
        </dd>

        <dt>Onclick</dt>
        <dd>
          For a button, this is the code that is executed when someone clicks the button.  The built in buttons have built in functions and therefore have very short onclick values.  If you add your own buttons, you can use the multiline code editor to add multiline code with comments.
        </dd>

        <dt>Prefstring</dt>
        <dd>
          This is the name of the preference the widget deals with.  These aren't exactly documented anywhere, so the best way to find the prefstring of a new preference you want to add would be to look at the XUL source code for whatever preferences panel sets it normally.
        </dd>

        <dt>fromPref &amp; topPref</dt>
        <dd>
          This applies only the Pref checks.  Because there are multiple types of prefs (int, bool, string, etc.) and because some of them take weird values, the prefbar maps them to the on and off state of the checkboxes using the frompref and topref attributes.
          <br/><br/>
          The frompref attribute is a javascript expression which, when evaluated, will return the state the checkbox is to be set to (i.e. either true or false.)   The variable ‘value' holds the current state of the preference, so common frompref values are "value" and  "!value". (Or "Boolean(value)" and "Boolean(!value)" if value is an int.  Remember, the end result must be a bool.)  Char prefs usually require weirder topref and frompref values.)
          <br/><br/>
          The topref attribute is the reverse of the frompref attribute.  It is used to turn the boolean checkbox state variable into the appropriate pref value.  Like frompref, topref must be a javascript expression which evaluates to the correct preference value, which must be of the same type as the preference involved.  The "value" variable holds the "true" or "false" state of the checkbox in question.  Common topref values are "value", "!value" and "2*Number(!value)".
          <br/><br/>
          Once again, the preferences are not very well documented, so the best way to find out what values a certain preference takes is by examining the XUL source code of the UI for that preference.  If the preference in question doesn't have a UI, then you're pretty much on your own.
        </dd>

        <dt>Get-function &amp; Set-function</dt>
        <dd>
          This applies only the Buttons, Extchecks and the Extlists. These button types are designed specially for scripts. They don't set preferences, but call the script, if the user clicks the button, sets the checkbox/list or if Mozilla wants to get the current state.
          <br/><br/>
          The Get-function is a javascript expression which is called everytime when the PrefBar needs update. Here PrefBar wants to know what the current state of the item is. You have to set the variable 'value' to the current value.
          <br/><br/>
          The Set-function is a javascript expression which is called whenever the user changes the state of your item (selects item in list or checks/unchecks the checkbox). The new state is in the variable 'value'.
          <br/><br/>
          The Init-function is an optional javascript expression, which may be used to place code, which is required to initialize your button. The code will be called once on startup of the browser and on any prefbar-database-change. This means, that the Init-function may get called more than once in one browser session!
        </dd>

        <dt>Label &amp; Value</dt>
        <dd>
          When dealing with menulists, each option has a corresponding value which the preference defined in prefstring will be set to when that option is chosen. If the value for an option is "!RESET!", then the preference will be resetted to its default setting (like "Reset" in about:config). If both the value and label for a given option are empty, then those items will be ignored if you accept the dialog window.
        </dd>

        <dt>Url</dt>
        <dd>
          For a link, this is the url you will be taken to if you click on the link.
        </dd>

        <dt>Hotkey</dt>
        <dd>
          The field "hotkey" enables you to set a hotkey for this button. If this hotkey is pressed in the browser window, then the function of the button gets called, just as if you had clicked the button with your mouse.
        </dd>
      </dl>

      <h3 id="noeditbuttons">Why you shouldn't edit most of the built in buttons</h3>
      <p>
        Even as you know now how to edit buttons it's not recommended to do so with most properties of the built in buttons without creating a copy of the button before (right click on button in customize window, choose "Copy" and enter a new ID for your button). The reason is simple: As soon as you get a new PrefBar version and update the buttons, PrefBar will immediately update its built in buttons and your changes are lost!
      </p>
      <p>Exceptions to this rule are:</p>
      <ul>
        <li>Things discussed in the <a href="#editbuttons">next section</a></li>
        <li>The label property. This one isn't touched by the update process, so <b>feel free to give each button a shorter name or just give it a name you like better</b></li>
        <li>Of course anything that isn't built in such as self-created buttons or imported buttons</li>
      </ul>
      <p>
        You may also have a look at the button list to see in detail which buttons you should not edit. If those buttons really have a bug, please tell me. It's the task of the PrefBar team to fix this. You should have no reason to modify the buttons on your own.
      </p>

      <h3 id="editbuttons">Built in buttons you may edit</h3>
      <p>
        There are some buttons that are a special case. As they are not usable without editing some things there are some parts excluded from update. Here I want to inform you how to edit those buttons to make them usable for you.
      </p>

      <dl>
        <dt><a name="editresize" href="buttons.html#resize">Resize</a></dt>
        <dd>
          <p>
            Here you may add your own screen resolutions using the edit button. The format is:
          </p>
          <p>
            <i>$WIDTH</i><b>x</b><i>$HEIGHT</i>
          </p>
        </dd>

        <dt><a name="edituseragent" href="buttons.html#useragent">User Agent</a></dt>
        <dd>
          Feel free to add own user agents here. Starting with PrefBar 3.3 there are two ways to do this:
          <dl>
            <dt>Just entering the User Agent string</dt>
            <dd>
              <p>
                As value for your new user agent you may just enter a user agent value of your choice. For example this is the user agent of mozilla 1.7.12 running under Linux:
              </p>
              <p>
                <b>Mozilla/5.0 (X11; U; Linux i686; de-AT; rv:1.7.12) Gecko/20050923</b>
              </p>
            </dd>
            <dt>Using Javascript syntax to specify more than just the agent</dt>
            <dd>
              <p>
                This is a new feature which came with PrefBar 3.3. You may now specify each of the following using Javascript: useragent, appname, appversion and platform. This will allow you to pass even more browser selection scripts.
              </p>
              <p>
                To tell PrefBar you like to use Javascript you have to prefix your value with "js:".
              </p>
              <p>
                For example this would be the string you enter to spoof Internet Explorer on Windows XP:
              </p>
              <p>
                <b>js:useragent="Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)"; appname="Microsoft Internet Explorer"; appversion="4.0 (compatible; MSIE 6.0; Windows NT 5.1)"; platform="Win32";</b>
              </p>
            </dd>
          </dl>
        </dd>

        <dt><a name="editproxylist" href="buttons.html#proxylist">Proxylist</a></dt>
        <dd>
          <p>
            A proxy server list won't help you if you wouldn't be allowed to enter your proxies here ;-) Feel free to add some in the following syntax:
          </p>
          <p>
            <b>$SERVER</b>:<b>$PORT</b>
          </p>
          <p>
            Starting with PrefBar 4.2, it's also possible to enter SOCKS proxies into the list, in the following form:
          </p>
          <p>
            socks:<b>$SERVER</b>:<b>$PORT</b>
          </p>
          <p>
            In both cases "$SERVER" is the server name or server IP and "$PORT" is the port number. You may mix FTP/HTTP and SOCKS proxies in your list, if you like.
          </p>
        </dd>

        <dt><a name="langlist" href="buttons.html#langlist">Language list</a></dt>
        <dd>
          <p>
            Feel free to add, delete or move language identifiers, here.
          </p>
        </dd>
      </dl>

      <!--
          <h2 id="using">Using the PrefBar</h2>
          <p>

          </p>

          -->

      <h2 id="importexport">Importing/Exporting Items</h2>
      <p>
        You can use the "Import" and "Export" Button on the preferences dialog to export buttons to "btn"-files and to import buttons from those files. This makes it possible to easily give buttons to others or to share buttons or button collections on the internet.
      </p>
      <dl>
        <dt>Exporting</dt>

        <dd>
          To export buttons you first have to select the buttons you want to export in one of the lists in the preferences dialog. You can't export buttons from both lists at once! Then click the "Export" button. Now you'll be asked where you want to save the "btn"-file to. After clicking on "save" the file gets created.
        </dd>
        <dt>Importing</dt>
        <dd>
          If you get a "btn"-file you can easily import it using the "Import" button. After clicking on it you'll get a dialog where you have to navigate to your btn file. After clicking on "open" the file gets imported. You may be asked if you want to override existing items if one oft the buttons you want to import has the same "Id" as an existing button on prefbar.
        </dd>
      </dl>


      <h2 id="knownbugs">Known Bugs</h2>
      <ul>
        <li>none so far...</li>
      </ul>

    </div>
  </body>
</html>
